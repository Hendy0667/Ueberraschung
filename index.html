<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Unsere Zeit zusammen</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    padding: clamp(20px, 5vw, 50px);
    text-align: center;
    transition: background 1s ease;
    background: linear-gradient(to right, #ffe0ec, #f0f8ff);
    color: #333;
}

/* Tageszeitbezogener Hintergrund */
body.morning { background: linear-gradient(to right, #fff5e6, #ffe0e0); }
body.afternoon { background: linear-gradient(to right, #ffebd6, #ffd6e0); }
body.evening { background: linear-gradient(to right, #c6b3ff, #f0c0ff); }

h1 { font-size: clamp(1.5rem, 5vw, 2.5rem); margin-bottom: clamp(8px, 2vw, 10px); }

#timer { font-size: clamp(1rem, 3vw, 1.5rem); margin-top: clamp(15px, 4vw, 30px); display: inline-block; transition: transform 0.3s ease; }

#extraText, #loveLetter { margin-top: clamp(20px, 5vw, 40px); opacity: 0; transition: opacity 1.5s ease; }

#extraText { font-size: clamp(1rem, 3vw, 1.2rem); color: #555; padding: 0 clamp(5px, 2vw, 20px); }

#loveLetter { font-size: clamp(1rem, 3vw, 1.1rem); color: #444; white-space: pre-line; padding: 0 clamp(10px, 3vw, 30px); max-width: 600px; margin: auto; position: relative; }

#password-section { margin-top: clamp(50px, 10vw, 100px); }

input[type="password"] { padding: clamp(8px, 2vw, 12px); font-size: clamp(1rem, 3vw, 1.2rem); border-radius: 8px; border: 1px solid #ccc; width: clamp(150px, 40vw, 300px); max-width: 100%; box-sizing: border-box; }

button { padding: clamp(8px, 2vw, 12px) clamp(15px, 4vw, 20px); font-size: clamp(1rem, 3vw, 1.1rem); margin-top: clamp(8px, 2vw, 10px); border: none; border-radius: 8px; background-color: #ffb6c1; cursor: pointer; min-width: 120px; }

#content { display: none; }

#music-buttons { margin-top: clamp(15px, 4vw, 20px); }
#music-buttons button { margin: clamp(4px, 1vw, 5px); min-width: 100px; }

audio { width: 100%; max-width: 500px; margin-top: clamp(10px, 3vw, 20px); outline: none; display: none; }

/* Herzanimation */
.heart {
    position: absolute;
    color: red;
    font-size: 1.5rem;
    animation: floatUp 2s ease forwards;
    pointer-events: none;
}
@keyframes floatUp {
    0% { opacity: 1; transform: translateY(0) scale(1); }
    100% { opacity: 0; transform: translateY(-50px) scale(1.5); }
}

/* Pulsierende Timer */
@keyframes pulse { 0%,100%{ transform: scale(1); } 50%{ transform: scale(1.1); } }
</style>
</head>
<body>

<div id="password-section">
<h1>ðŸ”’ Nur fÃ¼r Mia ðŸ’–</h1>
<p>Bitte Passwort eingeben:</p>
<input type="password" id="passwordInput" placeholder="Passwort eingeben">
<br>
<button onclick="checkPassword()">Freischalten</button>
</div>

<div id="content">
<h1>ðŸ’–Seit wir zusammen sindðŸ’–</h1>
<p>Seit dem 25. Mai 2025 um 13:42 Uhr</p>
<div id="timer">LÃ¤dt...</div>
<div id="extraText"></div>
<div id="loveLetter"></div>

<div id="music-buttons">
    <button onclick="changeSong('experience.mp3')">ðŸŽ» Experience</button>
    <button onclick="changeSong('a_million_dreams.mp3')">ðŸŒŸ A Million Dreams</button>
</div>

<audio id="loveMusic" autoplay loop hidden>
    <source src="experience.mp3" type="audio/mpeg">
    Dein Browser unterstÃ¼tzt kein Audio.
</audio>
</div>

<script>
const startDate = new Date("2025-05-25T13:42:00");
const showFrom = new Date("2025-09-25T00:00:00");
const showUntil = new Date("2025-10-25T00:00:00");

function updateTimer() {
    const now = new Date();
    let diffMs = now - startDate;
    let totalSeconds = Math.floor(diffMs / 1000);
    let seconds = totalSeconds % 60;
    let totalMinutes = Math.floor(totalSeconds / 60);
    let minutes = totalMinutes % 60;
    let totalHours = Math.floor(totalMinutes / 60);
    let hours = totalHours % 24;
    let totalDays = Math.floor(totalHours / 24);

    // Monate berechnen
    let months = now.getMonth() - startDate.getMonth() + (now.getFullYear() - startDate.getFullYear()) * 12;
    if (now.getDate() < startDate.getDate()) months--;

    let monthStartDate = new Date(startDate);
    monthStartDate.setMonth(startDate.getMonth() + months);
    let daysAfterMonths = Math.floor((now - monthStartDate)/(1000*60*60*24));
    let weeks = Math.floor(daysAfterMonths/7);
    let days = daysAfterMonths % 7;

    const timer = document.getElementById("timer");
    timer.textContent = `${months} Monat(e), ${weeks} Woche(n), ${days} Tag(e), ${hours} Stunde(n), ${minutes} Minute(n), ${seconds} Sekunde(n)`;
    timer.style.animation = "pulse 1s infinite";

    const extraText = document.getElementById("extraText");
    const loveLetter = document.getElementById("loveLetter");

    if (now >= showFrom && now < showUntil) {
        extraText.style.display = "block";
        loveLetter.style.display = "block";
        extraText.style.opacity = 1;
        loveLetter.style.opacity = 1;

        extraText.innerHTML = `Das sind: ${months} Monat(e) oder ${weeks} Woche(n) oder ${totalDays} Tag(e) oder ${totalHours} Stunde(n) oder ${totalMinutes} Minute(n) oder ${totalSeconds} Sekunde(n)`;

        loveLetter.innerHTML = `Vier Monate voller <span class="clickHeart">Liebe</span>, <span class="clickHeart">Mia</span>â€¦ ðŸ’–\n\nJeden Tag mit dir fÃ¼hlt sich besonders an, als hÃ¤tten wir unsere eigene kleine Welt geschaffen. Dein Lachen, deine Nachrichten, sogar die kleinen Momente der Stille â€“ sie bedeuten mir alles.\n\nVier Monate, in denen ich dich noch mehr schÃ¤tze, noch mehr liebe, noch mehr bewundere. Du machst meine Welt heller, wÃ¤rmer, lebendiger. Und ich kann mir keine schÃ¶nere Zukunft vorstellen, als diese mit dir zu teilen.\n\nDanke, dass du bei mir bist â€“ dass wir gemeinsam wachsen, trÃ¤umen und einfach wir selbst sein dÃ¼rfen.\n\nFÃ¼r immer dein, Hendrik ðŸ’•`;

        attachHeartClick();
    } else {
        extraText.style.opacity = 0;
        loveLetter.style.opacity = 0;
        extraText.style.display = "none";
        loveLetter.style.display = "none";
    }
}

// Herzchen auf Klick
function attachHeartClick() {
    document.querySelectorAll('.clickHeart').forEach(el => {
        el.onclick = e => {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.style.left = e.clientX + 'px';
            heart.style.top = e.clientY + 'px';
            heart.textContent = 'â¤ï¸';
            document.body.appendChild(heart);
            setTimeout(()=>heart.remove(),2000);
        }
    });
}

function checkPassword() {
    const input = document.getElementById("passwordInput").value;
    if (input === "mia2025") {
        document.getElementById("password-section").style.display = "none";
        document.getElementById("content").style.display = "block";
        updateTimer();
        setInterval(updateTimer, 1000);
        document.getElementById("loveMusic").play();
        setBodyBackground();
    } else alert("Falsches Passwort ðŸ˜¢");
}

function changeSong(songFile) {
    const player = document.getElementById("loveMusic");
    player.src = songFile;
    player.play();
    player.loop = true;
}

// Tageszeit Hintergrund
function setBodyBackground() {
    const hour = new Date().getHours();
    if (hour>=6 && hour<12) document.body.className='morning';
    else if(hour>=12 && hour<18) document.body.className='afternoon';
    else document.body.className='evening';
}

</script>
</body>
</html>
